(()=>{var e={};e.id=3,e.ids=[3],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6424:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d}),s(4753),s(466),s(5866);var a=s(3191),l=s(8716),r=s(7922),n=s.n(r),i=s(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4753)),"D:\\downloads\\WatchDB Streaming Platform\\telugudb\\src\\app\\admin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,466)),"D:\\downloads\\WatchDB Streaming Platform\\telugudb\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\downloads\\WatchDB Streaming Platform\\telugudb\\src\\app\\admin\\page.tsx"],m="/admin/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2492:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},8676:(e,t,s)=>{Promise.resolve().then(s.bind(s,9359))},4027:(e,t,s)=>{Promise.resolve().then(s.bind(s,2101))},1540:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2881).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},4893:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2881).Z)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},3855:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2881).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},2101:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>G});var a=s(326),l=s(7577),r=s(5047),n=s(2881);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,n.Z)("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]),o=(0,n.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var d=s(1870),c=s(3024);function m({children:e}){let[t,s]=(0,l.useState)(""),[n,m]=(0,l.useState)(""),[x,u]=(0,l.useState)(!1),p=(0,d.T)(),{isAdminAuthenticated:h}=(0,d.C)(e=>e.ui);(0,r.useRouter)();let g=async e=>{e.preventDefault(),m(""),u(!0);try{let e=await fetch("/api/admin/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:t})});(await e.json()).success?(p((0,c.FB)(!0)),sessionStorage.setItem("adminKey",t)):m("Invalid admin key")}catch{m("Something went wrong")}finally{u(!1)}};return h?a.jsx("div",{className:"min-h-screen bg-[#141414]",children:a.jsx("main",{className:"p-4 md:p-6 lg:p-8",children:e})}):a.jsx("div",{className:"min-h-screen bg-[#141414] flex items-center justify-center p-4",children:a.jsx("div",{className:"w-full max-w-md",children:(0,a.jsxs)("div",{className:"bg-[#1f1f1f] rounded-lg p-8 shadow-2xl",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 rounded-lg bg-red-600 flex items-center justify-center mx-auto mb-4",children:a.jsx(i,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Admin Panel"}),a.jsx("p",{className:"text-gray-400 mt-2",children:"Enter admin key to continue"})]}),(0,a.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx(o,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),a.jsx("input",{type:"password",value:t,onChange:e=>s(e.target.value),placeholder:"Enter admin key",className:"w-full pl-12 pr-4 py-3 rounded bg-[#2a2a2a] border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:border-red-600 transition-all"})]}),n&&a.jsx("p",{className:"text-red-500 text-sm",children:n}),a.jsx("button",{type:"submit",disabled:x,className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 rounded transition-colors disabled:opacity-50",children:x?"Loading...":"Access Admin Panel"})]})]})})})}/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,n.Z)("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]),u=(0,n.Z)("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),p=(0,n.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);function h(){let[e,t]=(0,l.useState)({totalMovies:0,totalSeries:0,totalEpisodes:0,trendingCount:0}),[s,r]=(0,l.useState)(!0),n=[{label:"Total Movies",value:e.totalMovies,icon:i,color:"bg-red-600"},{label:"Total Series",value:e.totalSeries,icon:x,color:"bg-purple-600"},{label:"Total Episodes",value:e.totalEpisodes,icon:u,color:"bg-green-600"},{label:"Trending",value:e.trendingCount,icon:p,color:"bg-blue-600"}];return a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:n.map(e=>{let t=e.icon;return a.jsx("div",{className:"bg-[#1f1f1f] rounded-lg p-4 md:p-6",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-400 text-sm mb-1",children:e.label}),a.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white",children:s?"-":e.value})]}),a.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 ${e.color} rounded-lg flex items-center justify-center`,children:a.jsx(t,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})})]})},e.label)})})}/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,n.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),b=(0,n.Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);var f=s(3855),y=s(4019),v=s(7524);let j=(0,l.forwardRef)(({className:e,label:t,error:s,...l},r)=>(0,a.jsxs)("div",{className:"w-full",children:[t&&a.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:t}),a.jsx("input",{ref:r,className:(0,v.cn)("w-full px-4 py-3 rounded bg-[#2a2a2a] border border-gray-700","text-white placeholder-gray-500","focus:outline-none focus:border-red-600 focus:ring-1 focus:ring-red-600/30","transition-all duration-200",s&&"border-red-500 focus:border-red-500 focus:ring-red-500/30",e),...l}),s&&a.jsx("p",{className:"mt-1.5 text-sm text-red-500",children:s})]}));j.displayName="Input";var N=s(9837),w=s(6792);let k=["Telugu","Hindi","Tamil","Malayalam","English"],C=["Trending","Latest","Dubbed","Movies","Web Series"],S=["480p","720p","1080p","4K"];var P=s(8307);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let L=(0,n.Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function M({type:e,onSelect:t}){let[s,r]=(0,l.useState)(""),[n,o]=(0,l.useState)([]),[d,c]=(0,l.useState)(!1),[m,u]=(0,l.useState)(""),[p,h]=(0,l.useState)(!0);return p?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx(P.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted"}),a.jsx("input",{type:"text",value:s,onChange:e=>r(e.target.value),placeholder:`Search ${"movie"===e?"movies":"series"} on TMDB...`,className:"w-full pl-10 pr-4 py-3 rounded-xl bg-background border border-border text-text-primary placeholder:text-text-muted/50 focus:outline-none focus:border-primary-gold"}),d&&a.jsx(L,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted animate-spin"})]}),m&&a.jsx("p",{className:"text-red-500 text-sm",children:m}),n.length>0&&a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 max-h-80 overflow-y-auto p-1",children:n.map(s=>(0,a.jsxs)("button",{type:"button",onClick:()=>t(s),className:"text-left p-2 rounded-xl bg-card border border-border hover:border-primary-gold/50 transition-all",children:[a.jsx("div",{className:"relative aspect-[2/3] rounded-lg overflow-hidden mb-2",children:s.poster?a.jsx("img",{src:s.poster,alt:s.title,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full bg-border flex items-center justify-center",children:"movie"===e?a.jsx(i,{className:"w-8 h-8 text-text-muted"}):a.jsx(x,{className:"w-8 h-8 text-text-muted"})})}),a.jsx("h4",{className:"font-medium text-text-primary text-sm line-clamp-1",children:s.title}),a.jsx("p",{className:"text-xs text-text-muted",children:s.year})]},s.tmdbId))})]}):a.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-xl",children:a.jsx("p",{className:"text-yellow-500 text-sm",children:"⚠️ TMDB API key not configured. Add TMDB_API_KEY in .env.local to enable auto-fill."})})}function Z({onSuccess:e}){let[t,s]=(0,l.useState)(!1),[r,n]=(0,l.useState)({title:"",poster:"",banner:"",description:"",year:"",language:"Telugu",category:"Latest",quality:"720p",rating:"",tags:[],embedIframeLink:"",downloadLink:""}),[i,o]=(0,l.useState)(""),[d,c]=(0,l.useState)(!1),[m,x]=(0,l.useState)(""),u=e=>{let{name:t,value:s}=e.target;n(e=>({...e,[t]:s}))},p=()=>{i.trim()&&!r.tags.includes(i.trim())&&(n(e=>({...e,tags:[...e.tags,i.trim()]})),o(""))},h=e=>{n(t=>({...t,tags:t.tags.filter(t=>t!==e)}))},v=async t=>{t.preventDefault(),c(!0),x("");try{let t=sessionStorage.getItem("adminKey"),s=await fetch("/api/content",{method:"POST",headers:{"Content-Type":"application/json","x-admin-key":t||""},body:JSON.stringify({type:"movie",...r,rating:r.rating?parseFloat(r.rating):void 0})}),a=await s.json();a.success?(x("Movie uploaded successfully!"),n({title:"",poster:"",banner:"",description:"",year:"",language:"Telugu",category:"Latest",quality:"720p",rating:"",tags:[],embedIframeLink:"",downloadLink:""}),e?.()):x(a.error||"Failed to upload movie")}catch(e){x("Something went wrong")}finally{c(!1)}};return(0,a.jsxs)("form",{onSubmit:v,className:"bg-[#1f1f1f] rounded-lg p-3 sm:p-4 lg:p-6 space-y-4 lg:space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[(0,a.jsxs)("h2",{className:"text-lg sm:text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(g,{className:"w-5 h-5 text-[#e50914]"}),"Upload Movie"]}),(0,a.jsxs)(N.Z,{type:"button",variant:"outline",onClick:()=>s(!t),className:"flex items-center gap-2 text-sm",children:[a.jsx(b,{className:"w-4 h-4"}),"Auto Fill"]})]}),t&&a.jsx("div",{className:"p-3 sm:p-4 bg-[#141414] rounded-lg border border-[#333]",children:a.jsx(M,{type:"movie",onSelect:e=>{n(t=>({...t,title:e.title||t.title,poster:e.poster||t.poster,banner:e.banner||t.banner,description:e.description||t.description,year:e.year||t.year,rating:e.rating?String(e.rating):t.rating})),s(!1)}})}),m&&a.jsx("div",{className:`p-3 rounded-lg ${m.includes("success")?"bg-green-900/30 text-green-400":"bg-red-900/30 text-red-400"}`,children:m}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:[a.jsx(j,{label:"Title *",name:"title",value:r.title,onChange:u,required:!0,placeholder:"Enter movie title"}),a.jsx(j,{label:"Year",name:"year",value:r.year,onChange:u,placeholder:"e.g., 2024"}),a.jsx(j,{label:"Poster URL *",name:"poster",value:r.poster,onChange:u,required:!0,placeholder:"https://example.com/poster.jpg"}),a.jsx(j,{label:"Banner URL",name:"banner",value:r.banner,onChange:u,placeholder:"https://example.com/banner.jpg"}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#808080] mb-1.5",children:"Language"}),a.jsx("select",{name:"language",value:r.language,onChange:u,className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg bg-[#141414] border border-[#333] text-white focus:outline-none focus:border-[#e50914] text-sm",children:k.map(e=>a.jsx("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#808080] mb-1.5",children:"Category"}),a.jsx("select",{name:"category",value:r.category,onChange:u,className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg bg-[#141414] border border-[#333] text-white focus:outline-none focus:border-[#e50914] text-sm",children:C.map(e=>a.jsx("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#808080] mb-1.5",children:"Quality"}),a.jsx("select",{name:"quality",value:r.quality,onChange:u,className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg bg-[#141414] border border-[#333] text-white focus:outline-none focus:border-[#e50914] text-sm",children:S.map(e=>a.jsx("option",{value:e,children:e},e))})]}),a.jsx(j,{label:"Rating (0-10)",name:"rating",type:"number",min:"0",max:"10",step:"0.1",value:r.rating,onChange:u,placeholder:"e.g., 8.5"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#808080] mb-1.5",children:"Description"}),a.jsx("textarea",{name:"description",value:r.description,onChange:u,rows:3,className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg bg-[#141414] border border-[#333] text-white placeholder:text-[#808080]/50 focus:outline-none focus:border-[#e50914] resize-none text-sm",placeholder:"Enter movie description..."})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#808080] mb-1.5",children:"Tags"}),(0,a.jsxs)("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:i,onChange:e=>o(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),p()),placeholder:"Add a tag",className:"flex-1 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg bg-[#141414] border border-[#333] text-white placeholder:text-[#808080]/50 focus:outline-none focus:border-[#e50914] text-sm"}),a.jsx(N.Z,{type:"button",onClick:p,variant:"outline",className:"px-3",children:a.jsx(f.Z,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map(e=>(0,a.jsxs)(w.Z,{variant:"outline",className:"flex items-center gap-1 text-white border-[#333]",children:[e,a.jsx("button",{type:"button",onClick:()=>h(e),className:"hover:text-red-500",children:a.jsx(y.Z,{className:"w-3 h-3"})})]},e))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 lg:gap-6",children:[a.jsx(j,{label:"Embed Iframe URL (Watch Link)",name:"embedIframeLink",value:r.embedIframeLink,onChange:u,placeholder:"https://example.com/embed/..."}),a.jsx(j,{label:"Download URL *",name:"downloadLink",value:r.downloadLink,onChange:u,required:!0,placeholder:"https://drive.google.com/..."})]}),a.jsx(N.Z,{type:"submit",size:"lg",isLoading:d,className:"w-full bg-[#e50914] hover:bg-[#b2070f]",children:"Upload Movie"})]})}/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let T=(0,n.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),D=(0,n.Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var E=s(8393),A=s(4893),q=s(1540),R=s(8129),U=s(58);function _({seasons:e,onChange:t}){let[s,r]=(0,l.useState)(null),n=s=>{t(e.filter(e=>e.seasonNumber!==s).map((e,t)=>({...e,seasonNumber:t+1})))},i=s=>{t(e.map(e=>{if(e.seasonNumber===s){let t={episodeNumber:e.episodes.length+1,episodeTitle:`Episode ${e.episodes.length+1}`,embedIframeLink:"",downloadLink:"",quality:"720p"};return{...e,episodes:[...e.episodes,t]}}return e}))},o=(s,a)=>{t(e.map(e=>{if(e.seasonNumber===s){let t=e.episodes.filter(e=>e.episodeNumber!==a);return{...e,episodes:t.map((e,t)=>({...e,episodeNumber:t+1}))}}return e}))},d=(s,a,l,r)=>{t(e.map(e=>e.seasonNumber===s?{...e,episodes:e.episodes.map(e=>e.episodeNumber===a?{...e,[l]:r}:e)}:e))};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Seasons & Episodes"}),(0,a.jsxs)(N.Z,{type:"button",onClick:()=>{let s={seasonNumber:e.length+1,episodes:[]};t([...e,s]),r(s.seasonNumber)},variant:"outline",size:"sm",children:[a.jsx(f.Z,{className:"w-4 h-4 mr-1"}),"Add Season"]})]}),0===e.length&&a.jsx("div",{className:"text-center py-8 bg-card rounded-xl border border-dashed border-border",children:a.jsx("p",{className:"text-text-muted",children:'No seasons added yet. Click "Add Season" to start.'})}),a.jsx("div",{className:"space-y-3",children:e.map(e=>(0,a.jsxs)("div",{className:"bg-card rounded-xl border border-border overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-border/30 transition-colors",onClick:()=>r(s===e.seasonNumber?null:e.seasonNumber),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("span",{className:"font-semibold text-text-primary",children:["Season ",e.seasonNumber]}),(0,a.jsxs)("span",{className:"text-sm text-text-muted",children:["(",e.episodes.length," ",1===e.episodes.length?"episode":"episodes",")"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:t=>{t.stopPropagation(),n(e.seasonNumber)},className:"p-2 rounded-lg hover:bg-red-500/10 text-text-muted hover:text-red-500 transition-colors",children:a.jsx(T,{className:"w-4 h-4"})}),s===e.seasonNumber?a.jsx(D,{className:"w-5 h-5 text-text-muted"}):a.jsx(E.Z,{className:"w-5 h-5 text-text-muted"})]})]}),a.jsx(R.M,{children:s===e.seasonNumber&&a.jsx(U.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:(0,a.jsxs)("div",{className:"border-t border-border p-4 space-y-4",children:[e.episodes.map(t=>(0,a.jsxs)("div",{className:"bg-background rounded-xl p-4 space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"font-medium text-text-primary",children:["Episode ",t.episodeNumber]}),a.jsx("button",{type:"button",onClick:()=>o(e.seasonNumber,t.episodeNumber),className:"p-1.5 rounded-lg hover:bg-red-500/10 text-text-muted hover:text-red-500 transition-colors",children:a.jsx(T,{className:"w-4 h-4"})})]}),a.jsx(j,{placeholder:"Episode Title",value:t.episodeTitle,onChange:s=>d(e.seasonNumber,t.episodeNumber,"episodeTitle",s.target.value)}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx(A.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted"}),a.jsx("input",{type:"text",placeholder:"Embed URL",value:t.embedIframeLink,onChange:s=>d(e.seasonNumber,t.episodeNumber,"embedIframeLink",s.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl bg-card border border-border text-text-primary placeholder:text-text-muted/50 focus:outline-none focus:border-primary-gold text-sm"})]}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(q.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted"}),a.jsx("input",{type:"text",placeholder:"Download URL *",value:t.downloadLink,onChange:s=>d(e.seasonNumber,t.episodeNumber,"downloadLink",s.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl bg-card border border-border text-text-primary placeholder:text-text-muted/50 focus:outline-none focus:border-primary-gold text-sm"})]}),(0,a.jsxs)("select",{value:t.quality,onChange:s=>d(e.seasonNumber,t.episodeNumber,"quality",s.target.value),className:"px-4 py-2.5 rounded-xl bg-card border border-border text-text-primary focus:outline-none focus:border-primary-gold text-sm",children:[a.jsx("option",{value:"480p",children:"480p"}),a.jsx("option",{value:"720p",children:"720p"}),a.jsx("option",{value:"1080p",children:"1080p"}),a.jsx("option",{value:"4K",children:"4K"})]})]})]},t.episodeNumber)),(0,a.jsxs)(N.Z,{type:"button",onClick:()=>i(e.seasonNumber),variant:"outline",size:"sm",className:"w-full",children:[a.jsx(f.Z,{className:"w-4 h-4 mr-1"}),"Add Episode"]})]})})})]},e.seasonNumber))})]})}function I({onSuccess:e}){let[t,s]=(0,l.useState)(!1),[r,n]=(0,l.useState)({title:"",poster:"",banner:"",description:"",year:"",language:"Telugu",rating:"",tags:[]}),[i,o]=(0,l.useState)([]),[d,c]=(0,l.useState)(""),[m,x]=(0,l.useState)(!1),[u,p]=(0,l.useState)(""),h=e=>{let{name:t,value:s}=e.target;n(e=>({...e,[t]:s}))},v=()=>{d.trim()&&!r.tags.includes(d.trim())&&(n(e=>({...e,tags:[...e.tags,d.trim()]})),c(""))},C=e=>{n(t=>({...t,tags:t.tags.filter(t=>t!==e)}))},S=async t=>{if(t.preventDefault(),x(!0),p(""),0===i.length){p("Please add at least one season with episodes"),x(!1);return}try{let t=sessionStorage.getItem("adminKey"),s=await fetch("/api/content",{method:"POST",headers:{"Content-Type":"application/json","x-admin-key":t||""},body:JSON.stringify({type:"series",...r,category:"Web Series",rating:r.rating?parseFloat(r.rating):void 0,seasons:i})}),a=await s.json();a.success?(p("Series uploaded successfully!"),n({title:"",poster:"",banner:"",description:"",year:"",language:"Telugu",rating:"",tags:[]}),o([]),e?.()):p(a.error||"Failed to upload series")}catch(e){p("Something went wrong")}finally{x(!1)}};return(0,a.jsxs)("form",{onSubmit:S,className:"bg-[#1f1f1f] rounded-lg p-3 sm:p-4 lg:p-6 space-y-4 lg:space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[(0,a.jsxs)("h2",{className:"text-lg sm:text-xl font-bold text-white flex items-center gap-2",children:[a.jsx(g,{className:"w-5 h-5 text-[#e50914]"}),"Upload Web Series"]}),(0,a.jsxs)(N.Z,{type:"button",variant:"outline",onClick:()=>s(!t),className:"flex items-center gap-2 text-sm",children:[a.jsx(b,{className:"w-4 h-4"}),"Auto Fill"]})]}),t&&a.jsx("div",{className:"p-3 sm:p-4 bg-[#141414] rounded-lg border border-[#333]",children:a.jsx(M,{type:"series",onSelect:e=>{n(t=>({...t,title:e.title||t.title,poster:e.poster||t.poster,banner:e.banner||t.banner,description:e.description||t.description,year:e.year||t.year,rating:e.rating?String(e.rating):t.rating})),s(!1)}})}),u&&a.jsx("div",{className:`p-3 rounded-lg ${u.includes("success")?"bg-green-900/30 text-green-400":"bg-red-900/30 text-red-400"}`,children:u}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:[a.jsx(j,{label:"Title *",name:"title",value:r.title,onChange:h,required:!0,placeholder:"Enter series title"}),a.jsx(j,{label:"Year",name:"year",value:r.year,onChange:h,placeholder:"e.g., 2024"}),a.jsx(j,{label:"Poster URL *",name:"poster",value:r.poster,onChange:h,required:!0,placeholder:"https://example.com/poster.jpg"}),a.jsx(j,{label:"Banner URL",name:"banner",value:r.banner,onChange:h,placeholder:"https://example.com/banner.jpg"}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#808080] mb-1.5",children:"Language"}),a.jsx("select",{name:"language",value:r.language,onChange:h,className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg bg-[#141414] border border-[#333] text-white focus:outline-none focus:border-[#e50914] text-sm",children:k.map(e=>a.jsx("option",{value:e,children:e},e))})]}),a.jsx(j,{label:"Rating (0-10)",name:"rating",type:"number",min:"0",max:"10",step:"0.1",value:r.rating,onChange:h,placeholder:"e.g., 8.5"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#808080] mb-1.5",children:"Description"}),a.jsx("textarea",{name:"description",value:r.description,onChange:h,rows:3,className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg bg-[#141414] border border-[#333] text-white placeholder:text-[#808080]/50 focus:outline-none focus:border-[#e50914] resize-none text-sm",placeholder:"Enter series description..."})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#808080] mb-1.5",children:"Tags"}),(0,a.jsxs)("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:d,onChange:e=>c(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),v()),placeholder:"Add a tag",className:"flex-1 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg bg-[#141414] border border-[#333] text-white placeholder:text-[#808080]/50 focus:outline-none focus:border-[#e50914] text-sm"}),a.jsx(N.Z,{type:"button",onClick:v,variant:"outline",className:"px-3",children:a.jsx(f.Z,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map(e=>(0,a.jsxs)(w.Z,{variant:"outline",className:"flex items-center gap-1 text-white border-[#333]",children:[e,a.jsx("button",{type:"button",onClick:()=>C(e),className:"hover:text-red-500",children:a.jsx(y.Z,{className:"w-3 h-3"})})]},e))})]}),a.jsx(_,{seasons:i,onChange:o}),a.jsx(N.Z,{type:"submit",size:"lg",isLoading:m,className:"w-full bg-[#e50914] hover:bg-[#b2070f]",children:"Upload Series"})]})}var $=s(6226);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let z=(0,n.Z)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);function B({isOpen:e,onClose:t,title:s,children:r,size:n="md"}){let[i,o]=(0,l.useState)(!1);return i&&e?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-0 sm:p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:t}),(0,a.jsxs)("div",{className:(0,v.cn)("relative bg-[#1f1f1f] border border-[#333] shadow-2xl w-full h-full sm:h-auto sm:max-h-[90vh] overflow-hidden flex flex-col","full"===n?"sm:rounded-lg":"sm:rounded-xl",{sm:"max-w-xs",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full"}[n]),children:[s&&(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[#333] flex-shrink-0",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-white truncate",children:s}),a.jsx("button",{onClick:t,className:"p-1.5 rounded-lg hover:bg-[#333] transition-colors text-[#808080] hover:text-white flex-shrink-0",children:a.jsx(y.Z,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"overflow-y-auto flex-1 pb-4",children:r})]})]}):null}function F({content:e,isOpen:t,onClose:s,onSuccess:r}){let[n,i]=(0,l.useState)({}),[o,d]=(0,l.useState)(""),[c,m]=(0,l.useState)(!1),[x,u]=(0,l.useState)(""),p=e=>{let{name:t,value:s}=e.target;i(e=>({...e,[t]:s}))},h=()=>{o.trim()&&!n.tags?.includes(o.trim())&&(i(e=>({...e,tags:[...e.tags||[],o.trim()]})),d(""))},g=e=>{i(t=>({...t,tags:t.tags?.filter(t=>t!==e)||[]}))},b=async t=>{t.preventDefault(),m(!0),u("");try{let t=sessionStorage.getItem("adminKey"),s=await fetch(`/api/content/${e._id}`,{method:"PUT",headers:{"Content-Type":"application/json","x-admin-key":t||""},body:JSON.stringify(n)}),a=await s.json();a.success?(u("Updated successfully!"),r()):u(a.error||"Failed to update")}catch(e){u("Something went wrong")}finally{m(!1)}},v="movie"===e.type;return a.jsx(B,{isOpen:t,onClose:s,title:`Edit ${v?"Movie":"Series"}`,size:"full",children:(0,a.jsxs)("form",{onSubmit:b,className:"p-3 sm:p-4 lg:p-6 space-y-4",children:[x&&a.jsx("div",{className:`p-3 rounded-lg ${x.includes("success")?"bg-green-900/30 text-green-400":"bg-red-900/30 text-red-400"}`,children:x}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[a.jsx(j,{label:"Title *",name:"title",value:n.title||"",onChange:p,required:!0}),a.jsx(j,{label:"Year",name:"year",value:n.year||"",onChange:p}),a.jsx(j,{label:"Poster URL *",name:"poster",value:n.poster||"",onChange:p,required:!0}),a.jsx(j,{label:"Banner URL",name:"banner",value:n.banner||"",onChange:p}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#808080] mb-1.5",children:"Language"}),a.jsx("select",{name:"language",value:n.language||"Telugu",onChange:p,className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg bg-[#141414] border border-[#333] text-white focus:outline-none focus:border-[#e50914] text-sm",children:k.map(e=>a.jsx("option",{value:e,children:e},e))})]}),v&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#808080] mb-1.5",children:"Category"}),a.jsx("select",{name:"category",value:n.category||"Latest",onChange:p,className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg bg-[#141414] border border-[#333] text-white focus:outline-none focus:border-[#e50914] text-sm",children:C.map(e=>a.jsx("option",{value:e,children:e},e))})]}),v&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#808080] mb-1.5",children:"Quality"}),a.jsx("select",{name:"quality",value:n.quality||"720p",onChange:p,className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg bg-[#141414] border border-[#333] text-white focus:outline-none focus:border-[#e50914] text-sm",children:S.map(e=>a.jsx("option",{value:e,children:e},e))})]}),a.jsx(j,{label:"Rating (0-10)",name:"rating",type:"number",min:"0",max:"10",step:"0.1",value:n.rating||"",onChange:p})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#808080] mb-1.5",children:"Description"}),a.jsx("textarea",{name:"description",value:n.description||"",onChange:p,rows:3,className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg bg-[#141414] border border-[#333] text-white focus:outline-none focus:border-[#e50914] resize-none text-sm",placeholder:"Enter description..."})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-[#808080] mb-1.5",children:"Tags"}),(0,a.jsxs)("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"text",value:o,onChange:e=>d(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),h()),placeholder:"Add a tag",className:"flex-1 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg bg-[#141414] border border-[#333] text-white placeholder:text-[#808080]/50 focus:outline-none focus:border-[#e50914] text-sm"}),a.jsx(N.Z,{type:"button",onClick:h,variant:"outline",className:"px-3",children:a.jsx(f.Z,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:n.tags?.map(e=>a.jsxs(w.Z,{variant:"outline",className:"flex items-center gap-1 text-white border-[#333]",children:[e,a.jsx("button",{type:"button",onClick:()=>g(e),className:"hover:text-red-500",children:a.jsx(y.Z,{className:"w-3 h-3"})})]},e))})]}),v?(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsx(j,{label:"Embed Iframe URL",name:"embedIframeLink",value:n.embedIframeLink||"",onChange:p}),a.jsx(j,{label:"Download URL",name:"downloadLink",value:n.downloadLink||"",onChange:p})]}):a.jsx(_,{seasons:n.seasons||[],onChange:e=>i(t=>({...t,seasons:e}))}),(0,a.jsxs)("div",{className:"flex gap-2 sm:gap-4 pt-4 border-t border-[#333] mt-4",children:[a.jsx(N.Z,{type:"submit",isLoading:c,className:"flex-1 bg-[#e50914] hover:bg-[#b2070f] text-sm sm:text-base py-2.5",children:"Save Changes"}),a.jsx(N.Z,{type:"button",variant:"outline",onClick:s,className:"text-sm sm:text-base py-2.5",children:"Cancel"})]})]})})}/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let W=(0,n.Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function O({isOpen:e,onClose:t,onConfirm:s,title:l}){return a.jsx(B,{isOpen:e,onClose:t,title:"Confirm Delete",size:"sm",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500/10 flex items-center justify-center mx-auto mb-4",children:a.jsx(W,{className:"w-8 h-8 text-red-500"})}),a.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Delete Content?"}),(0,a.jsxs)("p",{className:"text-text-muted mb-6",children:["Are you sure you want to delete ",a.jsx("span",{className:"text-text-primary font-medium",children:l}),"? This action cannot be undone."]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[a.jsx(N.Z,{variant:"danger",onClick:s,className:"flex-1",children:"Delete"}),a.jsx(N.Z,{variant:"outline",onClick:t,className:"flex-1",children:"Cancel"})]})]})})}function K({refreshTrigger:e=0}){let[t,s]=(0,l.useState)([]),[r,n]=(0,l.useState)(!0),[o,d]=(0,l.useState)(""),[c,m]=(0,l.useState)("all"),[u,p]=(0,l.useState)(null),[h,g]=(0,l.useState)(null),b=async()=>{try{let e=await fetch("/api/content"),t=await e.json();t.success&&s(t.data)}catch(e){console.error("Failed to fetch content:",e)}finally{n(!1)}},f=t.filter(e=>{let t=e.title.toLowerCase().includes(o.toLowerCase()),s="all"===c||e.type===c;return t&&s}),y=async()=>{if(h)try{let e=sessionStorage.getItem("adminKey"),a=await fetch(`/api/content/${h._id}`,{method:"DELETE",headers:{"x-admin-key":e||""}});(await a.json()).success&&(s(t.filter(e=>String(e._id)!==String(h._id))),g(null))}catch(e){console.error("Failed to delete:",e)}};return r?a.jsx("div",{className:"bg-[#1f1f1f] rounded-lg p-8",children:a.jsx("div",{className:"animate-pulse space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>a.jsx("div",{className:"h-16 bg-[#333] rounded"},t))})}):(0,a.jsxs)("div",{className:"bg-[#1f1f1f] rounded-lg overflow-hidden",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-[#333] space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Manage Content"}),a.jsx("div",{className:"flex items-center gap-2 text-sm text-[#808080]",children:(0,a.jsxs)("span",{children:["Total: ",f.length]})})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[a.jsx(P.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[#808080]"}),a.jsx("input",{type:"text",value:o,onChange:e=>d(e.target.value),placeholder:"Search content...",className:"w-full pl-10 pr-4 py-2.5 rounded bg-[#141414] border border-[#333] text-white placeholder:text-[#808080]/50 focus:outline-none focus:border-[#e50914]"})]}),a.jsx("div",{className:"flex gap-2",children:["all","movie","series"].map(e=>a.jsx("button",{onClick:()=>m(e),className:`px-4 py-2.5 rounded text-sm font-medium transition-all ${c===e?"bg-[#e50914] text-white":"bg-[#141414] text-[#808080] border border-[#333] hover:text-white"}`,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-[#141414]/50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-[#808080]",children:"Content"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-[#808080]",children:"Type"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-[#808080]",children:"Language"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-[#808080]",children:"Category"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-[#808080]",children:"Date"}),a.jsx("th",{className:"px-6 py-4 text-right text-sm font-medium text-[#808080]",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-[#333]",children:f.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-[#141414]/30 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"relative w-12 h-16 rounded overflow-hidden flex-shrink-0",children:a.jsx($.default,{src:e.poster,alt:e.title,fill:!0,className:"object-cover"})}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-white line-clamp-1",children:e.title}),e.year&&a.jsx("p",{className:"text-sm text-[#808080]",children:e.year})]})]})}),a.jsx("td",{className:"px-6 py-4",children:(0,a.jsxs)(w.Z,{variant:"movie"===e.type?"gold":"purple",className:"flex items-center gap-1 w-fit",children:["movie"===e.type?a.jsx(i,{className:"w-3 h-3"}):a.jsx(x,{className:"w-3 h-3"}),"movie"===e.type?"Movie":"Series"]})}),a.jsx("td",{className:"px-6 py-4 text-[#808080]",children:e.language||"-"}),a.jsx("td",{className:"px-6 py-4 text-[#808080]",children:e.category||"-"}),a.jsx("td",{className:"px-6 py-4 text-[#808080] text-sm",children:new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),a.jsx("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>p(e),className:"p-2 rounded hover:bg-[#e50914]/10 text-[#808080] hover:text-[#e50914] transition-colors",children:a.jsx(z,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>g(e),className:"p-2 rounded hover:bg-red-500/10 text-[#808080] hover:text-red-500 transition-colors",children:a.jsx(T,{className:"w-4 h-4"})})]})})]},String(e._id)))})]})}),0===f.length&&a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-[#808080]",children:"No content found"})}),u&&a.jsx(F,{content:u,isOpen:!!u,onClose:()=>p(null),onSuccess:()=>{p(null),b()}}),h&&a.jsx(O,{isOpen:!!h,onClose:()=>g(null),onConfirm:y,title:h.title})]})}let H=[{id:"dashboard",label:"Dashboard"},{id:"upload-movie",label:"Upload Movie"},{id:"upload-series",label:"Upload Series"},{id:"manage",label:"Manage Content"}];function Y(){(0,r.useSearchParams)();let e=(0,r.useRouter)(),[t,s]=(0,l.useState)("dashboard"),[n,i]=(0,l.useState)(0),o=t=>{s(t),e.push(`/admin?tab=${t}`)},d=()=>{i(e=>e+1),o("manage")};return a.jsx(m,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white",children:"Admin Panel"}),a.jsx("p",{className:"text-gray-400 mt-1",children:"Manage your content and uploads"})]})}),a.jsx("div",{className:"flex flex-wrap gap-2 border-b border-gray-800 pb-4",children:H.map(e=>a.jsx("button",{onClick:()=>o(e.id),className:`px-4 py-2 rounded text-sm font-medium transition-all ${t===e.id?"bg-red-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:e.label},e.id))}),(0,a.jsxs)("div",{children:["dashboard"===t&&(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx(h,{}),(0,a.jsxs)("div",{className:"bg-[#1f1f1f] rounded-lg p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Welcome to Admin Panel"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Use the navigation tabs above to manage your content. You can upload movies and web series, edit existing content, and view statistics about your platform."}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"p-4 bg-[#2a2a2a] rounded-lg",children:[a.jsx("h3",{className:"font-semibold text-white mb-2",children:"Upload Movie"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Add new movies with streaming and download links"})]}),(0,a.jsxs)("div",{className:"p-4 bg-[#2a2a2a] rounded-lg",children:[a.jsx("h3",{className:"font-semibold text-white mb-2",children:"Upload Series"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Add web series with seasons and episodes"})]}),(0,a.jsxs)("div",{className:"p-4 bg-[#2a2a2a] rounded-lg",children:[a.jsx("h3",{className:"font-semibold text-white mb-2",children:"Manage Content"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Edit or delete existing movies and series"})]})]})]})]}),"upload-movie"===t&&a.jsx(Z,{onSuccess:d}),"upload-series"===t&&a.jsx(I,{onSuccess:d}),"manage"===t&&a.jsx(K,{refreshTrigger:n})]})]})})}function G(){return a.jsx(l.Suspense,{fallback:a.jsx("div",{className:"min-h-screen bg-[#141414] flex items-center justify-center text-white",children:"Loading..."}),children:a.jsx(Y,{})})}},6792:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(326),l=s(7524);function r({children:e,variant:t="default",size:s="sm",className:r}){return a.jsx("span",{className:(0,l.cn)("inline-flex items-center justify-center rounded font-medium border",{gold:"bg-red-600/20 text-red-500 border-red-600/30",purple:"bg-purple-600/20 text-purple-400 border-purple-600/30",green:"bg-green-600/20 text-green-400 border-green-600/30",default:"bg-gray-800 text-gray-300 border-gray-700",outline:"bg-transparent text-gray-400 border-gray-700"}[t],{sm:"px-2 py-0.5 text-xs",md:"px-3 py-1 text-sm"}[s],r),children:e})}},9837:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(326),l=s(7524);let r=(0,s(7577).forwardRef)(({className:e,variant:t="primary",size:s="md",isLoading:r,children:n,...i},o)=>(0,a.jsxs)("button",{ref:o,className:(0,l.cn)("inline-flex items-center justify-center gap-2 rounded font-semibold transition-all duration-300","disabled:opacity-50 disabled:cursor-not-allowed","active:scale-95",{primary:"bg-red-600 text-white hover:bg-red-700",secondary:"bg-purple-600 text-white hover:bg-purple-700",outline:"border border-gray-600 bg-transparent text-white hover:bg-gray-800",ghost:"bg-transparent text-gray-400 hover:text-white hover:bg-gray-800",danger:"bg-red-600 text-white hover:bg-red-700"}[t],{sm:"px-3 py-1.5 text-sm",md:"px-5 py-2.5 text-base",lg:"px-8 py-3 text-lg"}[s],e),disabled:r||i.disabled,...i,children:[r&&(0,a.jsxs)("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n]}));r.displayName="Button";let n=r},9359:(e,t,s)=>{"use strict";s.d(t,{ReduxProvider:()=>g});var a=s(326),l=s(5842),r=s(9718);let n=(0,r.oM)({name:"content",initialState:{list:[],loading:!1,error:null},reducers:{setContent:(e,t)=>{e.list=t.payload},addContent:(e,t)=>{e.list.unshift(t.payload)},updateContent:(e,t)=>{let s=e.list.findIndex(e=>e._id===t.payload._id);-1!==s&&(e.list[s]=t.payload)},removeContent:(e,t)=>{e.list=e.list.filter(e=>e._id!==t.payload)},setLoading:(e,t)=>{e.loading=t.payload},setError:(e,t)=>{e.error=t.payload}}}),{setContent:i,addContent:o,updateContent:d,removeContent:c,setLoading:m,setError:x}=n.actions,u=n.reducer;var p=s(3024);let h=(0,r.xC)({reducer:{content:u,ui:p.ZP}});function g({children:e}){return a.jsx(l.zt,{store:h,children:e})}},1870:(e,t,s)=>{"use strict";s.d(t,{C:()=>r,T:()=>l});var a=s(5842);let l=()=>(0,a.I0)(),r=a.v9},3024:(e,t,s)=>{"use strict";s.d(t,{FB:()=>i,ZP:()=>d,jk:()=>n,qP:()=>l});let a=(0,s(9718).oM)({name:"ui",initialState:{search:"",category:"",typeFilter:"all",isAdminAuthenticated:!1},reducers:{setSearch:(e,t)=>{e.search=t.payload},setCategory:(e,t)=>{e.category=t.payload},setTypeFilter:(e,t)=>{e.typeFilter=t.payload},setAdminAuthenticated:(e,t)=>{e.isAdminAuthenticated=t.payload},resetFilters:e=>{e.search="",e.category="",e.typeFilter="all"}}}),{setSearch:l,setCategory:r,setTypeFilter:n,setAdminAuthenticated:i,resetFilters:o}=a.actions,d=a.reducer},7524:(e,t,s)=>{"use strict";s.d(t,{cn:()=>r});var a=s(1135),l=s(1009);function r(...e){return(0,l.m6)((0,a.W)(e))}},4753:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>r,default:()=>i});var a=s(8570);let l=(0,a.createProxy)(String.raw`D:\downloads\WatchDB Streaming Platform\telugudb\src\app\admin\page.tsx`),{__esModule:r,$$typeof:n}=l;l.default;let i=(0,a.createProxy)(String.raw`D:\downloads\WatchDB Streaming Platform\telugudb\src\app\admin\page.tsx#default`)},466:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h,metadata:()=>p});var a=s(9510),l=s(6822),r=s.n(l),n=s(3431),i=s.n(n);s(5023);var o=s(8570);let d=(0,o.createProxy)(String.raw`D:\downloads\WatchDB Streaming Platform\telugudb\src\redux\Provider.tsx`),{__esModule:c,$$typeof:m}=d;d.default;let x=(0,o.createProxy)(String.raw`D:\downloads\WatchDB Streaming Platform\telugudb\src\redux\Provider.tsx#ReduxProvider`),u={name:"WatchTMDB",brandName:"WatchTMDB HD",tagline:"Watch. Download. Stream Premium Cinema.",description:"Your ultimate destination for Telugu movies, Hindi dubbed films, and web series. Stream and download premium cinema content in HD quality free.",url:"https://watchdbhd.vercel.app",keywords:["telugu movies","hindi dubbed movies","web series","telugu hd movies","new releases","free streaming","download movies","tamil movies","malayalam movies","english movies","korean dramas","tv shows","ott platform","cinema","hd movies"],ogImage:"/og-image.jpg"},p={title:{default:`${u.brandName} - ${u.tagline}`,template:`%s | ${u.name}`},description:u.description,keywords:Array.from(u.keywords),authors:[{name:u.brandName}],creator:u.brandName,metadataBase:new URL(u.url),icons:{icon:"/favicon.png",apple:"/favicon.png"},openGraph:{type:"website",locale:"en_US",url:u.url,siteName:u.name,title:`${u.brandName} - ${u.tagline}`,description:u.description,images:[{url:u.ogImage,width:1200,height:630,alt:u.brandName}]},twitter:{card:"summary_large_image",title:`${u.brandName} - ${u.tagline}`,description:u.description,images:[u.ogImage],creator:"@watchtmdb"},robots:{index:!0,follow:!0,googleBot:{index:!0,follow:!0,"max-video-preview":-1,"max-image-preview":"large","max-snippet":-1}},verification:{google:"your-google-verification-code"}};function h({children:e}){return(0,a.jsxs)("html",{lang:"en",className:`${r().variable} ${i().variable}`,children:[a.jsx("head",{}),a.jsx("body",{className:`${r().className} antialiased`,children:a.jsx(x,{children:e})})]})}},5023:()=>{},8129:(e,t,s)=>{"use strict";s.d(t,{M:()=>b});var a=s(326),l=s(7577),r=s(339),n=s(7977),i=s(295),o=s(3965);class d extends l.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function c({children:e,isPresent:t}){let s=(0,l.useId)(),r=(0,l.useRef)(null),n=(0,l.useRef)({width:0,height:0,top:0,left:0}),{nonce:i}=(0,l.useContext)(o._);return(0,l.useInsertionEffect)(()=>{let{width:e,height:a,top:l,left:o}=n.current;if(t||!r.current||!e||!a)return;r.current.dataset.motionPopId=s;let d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${o}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),(0,a.jsx)(d,{isPresent:t,childRef:r,sizeRef:n,children:l.cloneElement(e,{ref:r})})}let m=({children:e,initial:t,isPresent:s,onExitComplete:r,custom:o,presenceAffectsLayout:d,mode:m})=>{let u=(0,n.h)(x),p=(0,l.useId)(),h=(0,l.useCallback)(e=>{for(let t of(u.set(e,!0),u.values()))if(!t)return;r&&r()},[u,r]),g=(0,l.useMemo)(()=>({id:p,initial:t,isPresent:s,custom:o,onExitComplete:h,register:e=>(u.set(e,!1),()=>u.delete(e))}),d?[Math.random(),h]:[s,h]);return(0,l.useMemo)(()=>{u.forEach((e,t)=>u.set(t,!1))},[s]),l.useEffect(()=>{s||u.size||!r||r()},[s]),"popLayout"===m&&(e=(0,a.jsx)(c,{isPresent:s,children:e})),(0,a.jsx)(i.O.Provider,{value:g,children:e})};function x(){return new Map}var u=s(6933);let p=e=>e.key||"";function h(e){let t=[];return l.Children.forEach(e,e=>{(0,l.isValidElement)(e)&&t.push(e)}),t}var g=s(2482);let b=({children:e,custom:t,initial:s=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:d="sync",propagate:c=!1})=>{let[x,b]=(0,u.oO)(c),f=(0,l.useMemo)(()=>h(e),[e]),y=c&&!x?[]:f.map(p),v=(0,l.useRef)(!0),j=(0,l.useRef)(f),N=(0,n.h)(()=>new Map),[w,k]=(0,l.useState)(f),[C,S]=(0,l.useState)(f);(0,g.L)(()=>{v.current=!1,j.current=f;for(let e=0;e<C.length;e++){let t=p(C[e]);y.includes(t)?N.delete(t):!0!==N.get(t)&&N.set(t,!1)}},[C,y.length,y.join("-")]);let P=[];if(f!==w){let e=[...f];for(let t=0;t<C.length;t++){let s=C[t],a=p(s);y.includes(a)||(e.splice(t,0,s),P.push(s))}"wait"===d&&P.length&&(e=P),S(h(e)),k(f);return}let{forceRender:L}=(0,l.useContext)(r.p);return(0,a.jsx)(a.Fragment,{children:C.map(e=>{let l=p(e),r=(!c||!!x)&&(f===C||y.includes(l));return(0,a.jsx)(m,{isPresent:r,initial:(!v.current||!!s)&&void 0,custom:r?void 0:t,presenceAffectsLayout:o,mode:d,onExitComplete:r?void 0:()=>{if(!N.has(l))return;N.set(l,!0);let e=!0;N.forEach(t=>{t||(e=!1)}),e&&(null==L||L(),S(j.current),c&&(null==b||b()),i&&i())},children:e},l)})})}}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[948,146,264,58],()=>s(6424));module.exports=a})();