(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[422],{3881:function(e,t,s){Promise.resolve().then(s.bind(s,8536))},5137:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(8030).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8536:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var r=s(7437),a=s(2265),i=s(7138),l=s(6463),n=s(5137),d=s(1513),o=s(6504),c=s(9966),x=s(4130),m=s(6279),u=s(649),p=s(6349);function b(){var e,t;let s=(0,l.useParams)(),b=(0,l.useSearchParams)(),[h,f]=(0,a.useState)(null),[v,y]=(0,a.useState)(1),[N,j]=(0,a.useState)(null),[g,w]=(0,a.useState)(!0),[k,S]=(0,a.useState)(!1),Z=b.get("season"),E=b.get("episode");(0,a.useEffect)(()=>{s.id&&L()},[s.id]),(0,a.useEffect)(()=>{var e,t;if(h&&Z&&E){let t=parseInt(Z),s=parseInt(E),r=null===(e=h.seasons)||void 0===e?void 0:e.find(e=>e.seasonNumber===t),a=null==r?void 0:r.episodes.find(e=>e.episodeNumber===s);a&&(y(t),j(a))}else if(h&&!N){let e=null===(t=h.seasons)||void 0===t?void 0:t[0],s=null==e?void 0:e.episodes[0];s&&(y(e.seasonNumber),j(s))}},[h,Z,E]);let L=async()=>{try{let e=await fetch("/api/content/".concat(s.id)),t=await e.json();t.success&&f(t.data)}catch(e){console.error("Failed to fetch series:",e)}finally{w(!1)}},_=(e,t)=>{y(t),j(e),S(!1);let s=new URL(window.location.href);s.searchParams.set("season",t.toString()),s.searchParams.set("episode",e.episodeNumber.toString()),window.history.replaceState({},"",s)},P=null==h?void 0:null===(e=h.seasons)||void 0===e?void 0:e.find(e=>e.seasonNumber===v);return g?(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,r.jsx)(o.Z,{}),(0,r.jsx)("div",{className:"pt-24 px-4",children:(0,r.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,r.jsx)("div",{className:"aspect-video bg-card rounded-2xl animate-pulse"})})})]}):h?(0,r.jsxs)("main",{className:"min-h-screen bg-background",children:[(0,r.jsx)(o.Z,{}),(0,r.jsx)("div",{className:"pt-20 pb-12",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsx)(d.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"mb-6",children:(0,r.jsxs)(i.default,{href:"/series/".concat(String(h._id)),className:"inline-flex items-center gap-2 text-text-muted hover:text-primary-gold transition-colors",children:[(0,r.jsx)(n.Z,{className:"w-4 h-4"}),"Back to Series Details"]})}),(0,r.jsx)(d.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:(0,r.jsx)(x.Z,{src:null==N?void 0:N.embedIframeLink,title:"".concat(h.title," - ").concat((null==N?void 0:N.episodeTitle)||"Episode")})}),(0,r.jsxs)(d.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[(0,r.jsxs)(u.Z,{variant:"purple",children:["S",v]}),(0,r.jsxs)(u.Z,{variant:"gold",children:["E",null==N?void 0:N.episodeNumber]}),(null==N?void 0:N.quality)&&(0,r.jsx)(u.Z,{variant:"outline",children:N.quality})]}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-text-primary mb-2",children:(null==N?void 0:N.episodeTitle)||"Episode ".concat(null==N?void 0:N.episodeNumber)}),(0,r.jsx)("p",{className:"text-text-muted text-lg",children:h.title})]}),(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsx)(m.Z,{slot:"series-watch",className:"w-full h-24"})}),(0,r.jsxs)(d.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card rounded-2xl border border-border overflow-hidden",children:[(0,r.jsx)("div",{className:"flex border-b border-border overflow-x-auto",children:null===(t=h.seasons)||void 0===t?void 0:t.map(e=>(0,r.jsxs)("button",{onClick:()=>{y(e.seasonNumber),e.episodes.length>0&&_(e.episodes[0],e.seasonNumber)},className:(0,p.cn)("px-6 py-4 text-sm font-medium whitespace-nowrap transition-colors",v===e.seasonNumber?"text-primary-gold border-b-2 border-primary-gold":"text-text-muted hover:text-text-primary"),children:["Season ",e.seasonNumber]},e.seasonNumber))}),(0,r.jsx)("div",{className:"max-h-96 overflow-y-auto",children:null==P?void 0:P.episodes.map(e=>{let t=(null==N?void 0:N.episodeNumber)===e.episodeNumber;return(0,r.jsxs)("button",{onClick:()=>_(e,v),className:(0,p.cn)("w-full flex items-center gap-4 p-4 text-left transition-colors hover:bg-border/30",t&&"bg-primary-gold/10 border-l-4 border-l-primary-gold"),children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg bg-border flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-sm font-semibold text-text-muted",children:e.episodeNumber})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h4",{className:"font-medium text-text-primary truncate",children:e.episodeTitle}),e.quality&&(0,r.jsx)("span",{className:"text-xs text-text-muted",children:e.quality})]}),e.downloadLink&&(0,r.jsx)("a",{href:e.downloadLink,target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),className:"px-3 py-1.5 rounded-lg bg-border text-xs text-text-muted hover:text-secondary-purple hover:bg-secondary-purple/10 transition-colors",children:"Download"})]},e.episodeNumber)})})]})]})}),(0,r.jsx)(c.Z,{})]}):(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,r.jsx)(o.Z,{}),(0,r.jsxs)("div",{className:"pt-32 text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-text-primary",children:"Series not found"}),(0,r.jsx)(i.default,{href:"/",className:"text-primary-gold mt-4 inline-block",children:"Go back home"})]})]})}function h(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,r.jsx)(o.Z,{}),(0,r.jsx)("div",{className:"pt-24 px-4",children:(0,r.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,r.jsx)("div",{className:"aspect-video bg-card rounded-2xl animate-pulse"})})})]}),children:(0,r.jsx)(b,{})})}},4130:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var r=s(7437),a=s(2265);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(8030).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var l=s(1513);function n(e){let{src:t,title:s}=e,[n,d]=(0,a.useState)(!0),[o,c]=(0,a.useState)(!1);return t?(0,r.jsxs)("div",{className:"relative w-full aspect-video bg-black rounded-2xl overflow-hidden border border-border shadow-2xl",children:[n&&(0,r.jsx)(l.E.div,{initial:{opacity:1},animate:{opacity:n?1:0},className:"absolute inset-0 bg-card flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 rounded-full border-4 border-primary-gold/30 border-t-primary-gold animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-text-muted",children:"Loading player..."})]})}),o&&(0,r.jsx)("div",{className:"absolute inset-0 bg-card flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center p-8",children:[(0,r.jsx)("div",{className:"w-20 h-20 rounded-full bg-red-500/10 flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(i,{className:"w-10 h-10 text-red-500"})}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-text-primary mb-2",children:"Failed to Load Video"}),(0,r.jsx)("p",{className:"text-text-muted",children:"Please try again later or check your connection."})]})}),(0,r.jsx)("iframe",{src:t,title:s,className:"w-full h-full",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",onLoad:()=>d(!1),onError:()=>{d(!1),c(!0)}})]}):(0,r.jsx)("div",{className:"relative w-full aspect-video bg-card rounded-2xl border border-border flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center p-8",children:[(0,r.jsx)("div",{className:"w-20 h-20 rounded-full bg-border flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(i,{className:"w-10 h-10 text-text-muted"})}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-text-primary mb-2",children:"Watch Link Not Available"}),(0,r.jsx)("p",{className:"text-text-muted",children:"This content does not have a streaming link yet."})]})})}},649:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var r=s(7437),a=s(6349);function i(e){let{children:t,variant:s="default",size:i="sm",className:l}=e;return(0,r.jsx)("span",{className:(0,a.cn)("inline-flex items-center justify-center rounded font-medium border",{gold:"bg-red-600/20 text-red-500 border-red-600/30",purple:"bg-purple-600/20 text-purple-400 border-purple-600/30",green:"bg-green-600/20 text-green-400 border-green-600/30",default:"bg-gray-800 text-gray-300 border-gray-700",outline:"bg-transparent text-gray-400 border-gray-700"}[s],{sm:"px-2 py-0.5 text-xs",md:"px-3 py-1 text-sm"}[i],l),children:t})}}},function(e){e.O(0,[562,824,982,513,90,971,23,744],function(){return e(e.s=3881)}),_N_E=e.O()}]);